<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Las Catalinas - Stack Builder</title>
        <link rel="stylesheet" href="index.css">
    </head>
    <body>
        <div class="container">
            <div class="header">
                <h1>Las Catalinas - Stack Builder</h1>
                <p>Construye tu stack tecnolÃ³gico ideal arrastrando
                    componentes</p>
            </div>

            <div class="components-panel">
                <h3>ğŸ”§ Componentes Disponibles</h3>
                <div id="components-list"></div>
            </div>

            <div class="workspace">
                <div class="stack-builder" id="stack-builder">
                    <!-- Se genera dinÃ¡micamente -->
                </div>

                <div class="actions">
                    <button class="btn btn-primary" onclick="exportStackToExcel()">ğŸ“Š Exportar Excel</button>
                    <button class="btn btn-primary" onclick="exportStackToPDF()">ğŸ“„ Exportar PDF</button>
                    <button class="btn btn-secondary" onclick="clearStack()">ğŸ—‘ï¸ Limpiar Todo</button>
                    <button class="btn btn-secondary" onclick="importData()">ğŸ“¥ Importar Datos</button>
                    <button class="btn btn-secondary" onclick="exportData()">ğŸ“¤ Exportar Datos</button>
                    <button class="btn btn-secondary" onclick="importCategories()">ğŸ“¥ Importar CategorÃ­as</button>
                    <button class="btn btn-secondary" onclick="exportCategories()">ğŸ“¤ Exportar CategorÃ­as</button>
                </div>
            </div>

            <div class="costs-panel">
                <div class="costs-section">
                    <h3>ğŸ’° Costos Mensuales</h3>
                    <div id="monthly-costs"></div>
                    <div class="cost-total">
                        Total Mensual: $<span id="total-monthly">0</span>
                    </div>
                </div>

                <div class="costs-section">
                    <h3>ğŸ“… Costos Anuales</h3>
                    <div id="annual-costs"></div>
                    <div class="cost-total">
                        Total Anual: $<span id="total-annual">0</span>
                    </div>
                </div>

                <div class="costs-section">
                    <div class="chart-title">â­ AnÃ¡lisis del Stack</div>
                    <canvas id="radarChart" class="radar-chart"></canvas>
                </div>
            </div>
        </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
        <script src="index.js"></script>
        <script>
        // InicializaciÃ³n cuando el DOM estÃ¡ listo
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸš€ Inicializando Las Catalinas Stack Builder...');
            
            // Verificar que todas las funciones estÃ©n disponibles
            if (typeof init === 'function') {
                init();
                console.log('âœ… Stack Builder inicializado correctamente');
            } else {
                console.error('âŒ Error: funciÃ³n init() no encontrada en index.js');
            }
        });

        // FunciÃ³n de respaldo en caso de que DOMContentLoaded ya haya pasado
        if (document.readyState === 'loading') {
            // DOM aÃºn se estÃ¡ cargando
            document.addEventListener('DOMContentLoaded', function() {
                if (typeof init === 'function') {
                    init();
                }
            });
        } else {
            // DOM ya estÃ¡ cargado
            if (typeof init === 'function') {
                init();
            }
        }
    </script>
    </body>
</html>